# 제출용 스크린샷 가이드 (과제01~05)

아래 순서대로 터미널 명령을 실행하고, 각 포인트에서 화면과 파일 목록/내용을 캡처하세요. 쿼터 절약을 위해 fetch는 하루 1회 실행을 권장합니다.

사전 준비(최초 1회)
- 가상환경/설치: `python -m venv .venv && source .venv/bin/activate && pip install -r requirements.txt`
- 환경파일: `cp -n .env.example .env`
- API 키 설정: `.env`에 `YT_API_KEY=<발급키>` 추가
- 런타임 경로 생성: `make scaffold`

## 과제01 — 데이터 수집 및 배치 ETL
명령(실데이터 수집 + Bronze 적재)
- 수집(쿼터 보호): `python -m video_social_rtp.cli fetch --max-items 50 --query "K-POP" --relevance-language ko --region-code KR --skip-if-exists`
- Bronze(Spark/Delta): `python -m video_social_rtp.cli bronze`
- (Spark 제한 시) 폴백: `python -m video_social_rtp.cli bronze --fallback-local`

스크린샷 포인트
- Fetch 콘솔 출력(landing_file, sample_file 경로가 보이도록)
- `ls -1 project/data/landing` (최신 `events_*.json` 확인)
- `sed -n '1,5p' project/data/landing/$(ls -1t project/data/landing | head -n1)` (NDJSON 상위 5줄)
- Bronze 완료 로그(append rows)
- Spark/Delta 사용 시: `ls -1 project/data/bronze/_delta_log | head` (존재 확인)
- 폴백 사용 시: `ls -1 project/data/bronze/raw | head`

## 과제02 — 스트리밍 구조화/정제(Silver)
명령(마이크로배치 1회)
- Spark/Delta: `python -m video_social_rtp.cli silver --once`
- (제한 시) 폴백: `python -m video_social_rtp.cli silver --fallback-local`

스크린샷 포인트
- Silver 실행 콘솔 출력(once 또는 fallback 로그)
- Spark/Delta 사용 시: `ls -1 project/data/silver/social_metrics/_delta_log | head`
- 폴백 사용 시: `ls -1 project/data/silver/social_metrics/*.csv`
- (선택) `sed -n '1,10p' project/data/silver/social_metrics/$(ls -1t project/data/silver/social_metrics/*.csv | head -n1)`

## 과제03 — 피처 엔지니어링 및 라벨링(Gold)
명령
- Spark/Delta: `python -m video_social_rtp.cli gold --top-pct 0.9`
- (제한 시) 폴백(Pandas): `python -m video_social_rtp.cli gold --fallback-local --top-pct 0.9`

스크린샷 포인트
- Gold 실행 콘솔 출력(cutoff 값 포함)
- 아티팩트: `cat project/artifacts/gold_cutoff.json`
- Spark/Delta 사용 시: `ls -1 project/data/gold/features/_delta_log | head`
- 폴백 사용 시: `sed -n '1,20p' project/data/gold/features.csv`

## 과제04 — 다모델 학습 & Pareto Front
명령
- Spark 경로(가능 시): `python -m video_social_rtp.cli train`
- 폴백: `python -m video_social_rtp.cli train --fallback-local --no-mlflow`

스크린샷 포인트
- 학습 실행 콘솔 출력(결과 요약: results/front)
- Pareto 결과: `sed -n '1,120p' project/artifacts/pareto.json`
- (MLflow 사용 시) 디렉토리: `ls -R project/artifacts/mlruns | sed -n '1,120p'`

## 과제05 — 실시간 예측/조회 UI(Streamlit)
명령
- 권장: `python -m video_social_rtp.cli ui` (기본 포트 8501)
- 직접: `streamlit run video_social_rtp/serve/ui.py --server.port=8501`

스크린샷 포인트(브라우저)
- 사이드바: `video_id` 입력(예: v0), `Top-K` 슬라이더 설정
- 본문 상단: "최근 존재 가능성" 메트릭 카드(있음/없음)
- CDF/PDF 차트와 컷오프 정보(engagement_24h ≥ cutoff)
- 선택 video_id의 `engagement_24h`, `label` 알림
- Top-K 테이블(최근 윈도우 count 기준)

참고/팁
- 쿼터 절약: 동일 키워드 재수집 방지 마커가 기본 활성화(`--skip-if-exists`), 필요 시 당일 재수집은 `--no-skip-if-exists`로 강제 실행
- Spark 경고(바인딩) 억제: `.env`에 `SPARK_LOCAL_IP=127.0.0.1` 추가 후 재실행
- 오류 발생 시, 각 단계의 `project/logs/*.log`를 함께 캡처해 제출물 신뢰도를 높이세요.

